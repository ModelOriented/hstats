<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • hstats</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hstats</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mayer79/hstats/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/mayer79/hstats/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.0" id="hstats-100">hstats 1.0.0<a class="anchor" aria-label="anchor" href="#hstats-100"></a></h2>
<div class="section level3">
<h3 id="major-changes-1-0-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-1-0-0"></a></h3>
<ul><li>
<code><a href="../reference/hstats.html">hstats()</a></code>: <code>n_max</code> has been increased from 300 to 500 rows. This will make estimates of H statistics more stable at the price of longer run time. Reduce to 300 for the old behaviour.</li>
<li>
<code><a href="../reference/hstats.html">hstats()</a></code>: By default, three-way interactions are not calculated anymore. Set <code>threeway_m</code> to 5 for the old behaviour.</li>
<li>Revised plots: The colors and color palettes have changed and can (also) be controlled via global options. For instance, to change the fill color of all bars, set <code>options(hstats.fill = new value)</code>. Value labels are more clear, and there are more options. Varying color/fill scales now use viridis (inferno). This can be modified on the fly or via <code>options(hstats.viridis_args = list(...))</code>.</li>
<li>“hstats_matrix” object: All statistics functions, e.g., <code><a href="../reference/H2_pairwise.html">h2_pairwise()</a></code> or <code><a href="../reference/perm_importance.html">perm_importance()</a></code>, now return a “hstats_matrix”. The values are stored in <code>$M</code> and can be plotted via <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>. Other methods include: <code><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames()</a></code>, <code><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames()</a></code>, <code><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames()</a></code>, <code><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim()</a></code>, <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow()</a></code>, <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol()</a></code>, <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code>, <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail()</a></code>, and subsetting like a normal matrix. This allows, e.g, to select and plot only one column of the results.</li>
<li>
<code><a href="../reference/perm_importance.html">perm_importance()</a></code>: The <code>perms</code> argument has been changed to <code>m_rep</code>.</li>
<li>
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> and <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> methods have been revised.</li>
<li>The arguments <code>w</code> (case weights) and <code>y</code> (response) can now also be passed as column <em>names</em>.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-1-0-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-1-0-0"></a></h3>
<ul><li>Statistics: The argument <code>top_m</code> has been moved to the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method.</li>
<li>Statistics: The clipping threshold <code>eps</code> of squared numerator statistics has been reduced from <code>1e-8</code> to <code>1e-10</code>. It is now handled in <code><a href="../reference/hstats.html">hstats()</a></code> instead of the statistic functions.</li>
<li>
<code>H-squared</code>: The <span class="math inline"><em>H</em><sup>2</sup></span> statistic stored in a “hstats” object is now a matrix with one row (it was a vector).</li>
<li>
<code><a href="../reference/pd_importance.html">pd_importance()</a></code>: The “hstats” object now contains pre-calculated PD-based importance values in <code>$pd_importance</code>.</li>
<li>
<code><a href="../reference/summary.hstats.html">summary.hstats()</a></code> now returns an object of class “hstats_summary” instead of “summary_hstats”.</li>
<li>
<code><a href="../reference/average_loss.html">average_loss()</a></code> is more flexible regarding the group <code>BY</code> argument. It can also be a variable <em>name</em>. Non-discrete <code>BY</code> variables are now automatically binned. Like <code><a href="../reference/partial_dep.html">partial_dep()</a></code>, binning is controlled by the <code>by_size = 4</code> argument.</li>
<li>
<code><a href="../reference/average_loss.html">average_loss()</a></code> also returns a “hstats_matrix” object with <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method. The values can be extracted via <code>$M</code>.</li>
<li>The default <code>v</code> of <code><a href="../reference/hstats.html">hstats()</a></code> and <code><a href="../reference/perm_importance.html">perm_importance()</a></code> is now <code>NULL</code>. Internally, it is set to <code>colnames(X)</code> (minus the column names of <code>w</code> and <code>y</code> if passed as name).</li>
<li>Missing grid values: <code><a href="../reference/partial_dep.html">partial_dep()</a></code> and <code><a href="../reference/ice.html">ice()</a></code> have received a <code>na.rm = TRUE</code> argument that controls if missing values are dropped during grid creation. The default is compatible with earlier releases.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="hstats-030">hstats 0.3.0<small>2023-09-29</small><a class="anchor" aria-label="anchor" href="#hstats-030"></a></h2>
<p>This is intended to be the last version before 1.0.0.</p>
<div class="section level3">
<h3 id="visible-changes-0-3-0">Visible changes<a class="anchor" aria-label="anchor" href="#visible-changes-0-3-0"></a></h3>
<ul><li>Grid of <code><a href="../reference/ice.html">ice()</a></code> and <code><a href="../reference/partial_dep.html">partial_dep()</a></code>: So far, the default grid strategy “uniform” used <code><a href="https://rdrr.io/r/base/pretty.html" class="external-link">pretty()</a></code> to generate the evaluation points. To provide more predictable grid sizes, and to be more in line with other implementations of partial dependence and ICE, we now use <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code> to create the uniform grid.</li>
<li>
<code><a href="../reference/H2_pairwise.html">h2_pairwise()</a></code> and <code><a href="../reference/H2_threeway.html">h2_threeway()</a></code> will now also include 0 values. Use <code>zero = FALSE</code> to drop them, see below. The padding with 0 is done at no computational cost, and will affect only up to <code>pairwise_m</code> and <code>threeway_m</code> features.</li>
<li>The <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method of <code><a href="../reference/summary.hstats.html">summary.hstats()</a></code> is less verbose.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-3-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-0"></a></h3>
<ul><li>
<code><a href="../reference/H2_overall.html">h2_overall()</a></code>, <code><a href="../reference/H2_pairwise.html">h2_pairwise()</a></code>, <code><a href="../reference/H2_threeway.html">h2_threeway()</a></code>, <code><a href="../reference/plot.hstats.html">plot.hstats()</a></code>, and <code><a href="../reference/summary.hstats.html">summary.hstats()</a></code> have received an argument <code>zero = TRUE</code>. Set to <code>FALSE</code> to drop statistics having value 0.</li>
<li>
<code><a href="../reference/perm_importance.html">perm_importance()</a></code> and <code><a href="../reference/average_loss.html">average_loss()</a></code> will now recycle a univariate response when combined with multivariate predictions. This is useful, e.g., when the prediction function represents the predictions of multiple models that should be evaluated against a common response.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-3-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-0"></a></h3>
<ul><li>All progress bars were initialized 1 step too late.</li>
<li>
<code><a href="../reference/perm_importance.html">perm_importance()</a></code> and <code><a href="../reference/average_loss.html">average_loss()</a></code> would fail for “mlogloss” in case the response <code>y</code> was univariate <em>and</em> non-factor/non-character.</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-0-3-0">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-0-3-0"></a></h3>
<ul><li>All available H-statistics are now calculated within <code><a href="../reference/hstats.html">hstats()</a></code> and attached to the resulting object. Each statistic is stored as list with numerator and denominator matrices/vectors. The functions <code><a href="../reference/H2.html">h2()</a></code>, <code><a href="../reference/H2_overall.html">h2_overall()</a></code>, <code><a href="../reference/H2_pairwise.html">h2_pairwise()</a></code>, and <code><a href="../reference/H2_threeway.html">h2_threeway()</a></code>, <code><a href="../reference/print.hstats.html">print.hstats()</a></code>, <code>summary().hstats()</code>, <code><a href="../reference/plot.hstats.html">plot.hstats()</a></code> will use these without having to recalculate the required numerators and denominators. The results, however, are unchanged.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="hstats-020">hstats 0.2.0<small>2023-09-03</small><a class="anchor" aria-label="anchor" href="#hstats-020"></a></h2>
<div class="section level3">
<h3 id="new-major-features-0-2-0">New major features<a class="anchor" aria-label="anchor" href="#new-major-features-0-2-0"></a></h3>
<ul><li><p><strong>average_loss()</strong>: This new function calculates the average loss of a model for a given dataset, optionally grouped by a discrete vector. It supports the most important loss functions (squared error, Poisson deviance, Gamma deviance, Log loss, multivariate Log loss, absolute error, classification error), and allows for case weights. Custom losses can be passed as vector/matrix valued functions of signature <code>f(obs, pred)</code>. Note that such a custom function needs to return per-row losses, not their average.</p></li>
<li><p><strong>perm_importance()</strong>: H-statistics are often calculated for important features only. To support this workflow, we have added permutation importance regarding the most important loss functions. Multivariate losses can be studied individually or collapsed over dimensions. The importance of <em>feature groups</em> can be studied as well. Note that the API of <code><a href="../reference/perm_importance.html">perm_importance()</a></code> is different from the experimental <code><a href="../reference/pd_importance.html">pd_importance()</a></code>, which is calculated from a “hstats” object.</p></li>
</ul></div>
<div class="section level3">
<h3 id="major-changes-in-defaults-0-2-0">Major changes in defaults<a class="anchor" aria-label="anchor" href="#major-changes-in-defaults-0-2-0"></a></h3>
<ul><li>
<code><a href="../reference/hstats.html">hstats()</a></code> now uses the default feature vector <code>v = colnames(X)</code>, simplifying the API in most cases. The typical call is now <code>hstats(object, X = Feature data)</code>.</li>
<li>
<code><a href="../reference/H2_overall.html">h2_overall()</a></code>, <code><a href="../reference/H2_pairwise.html">h2_pairwise()</a></code>, <code><a href="../reference/H2_threeway.html">h2_threeway()</a></code>, <code><a href="../reference/pd_importance.html">pd_importance()</a></code> by default do not plot results anymore. Set <code>plot = TRUE</code> to do so.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-0-2-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-2-0"></a></h3>
<ul><li>
<code><a href="../reference/summary.hstats.html">summary.hstats()</a></code> now returns an object of class “summary_hstats” with its own <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method. Like this, one can use <code>su &lt;- summary()</code> without printing to the console.</li>
<li>The output of <code><a href="../reference/summary.hstats.html">summary.hstats()</a></code> is printed slightly more compact.</li>
<li>
<code><a href="../reference/plot.hstats.html">plot.hstats()</a></code> has recieved a <code>rotate_x = FALSE</code> argument for rotating x labels by 45 degrees.</li>
<li>
<code><a href="../reference/plot.hstats.html">plot.hstats()</a></code> and <code><a href="../reference/summary.hstats.html">summary.hstats()</a></code> have received explicit arguments <code>normalize</code>, <code>squared</code>, <code>sort</code>, <code>eps</code> instead of passing them via <code>...</code>.</li>
<li>
<code><a href="../reference/plot.hstats.html">plot.hstats()</a></code> now passes <code>...</code> to <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar()</a></code>.</li>
<li>Slight speed-up of <code><a href="../reference/hstats.html">hstats()</a></code> in the one-dimensional case.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-2-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-0"></a></h3>
<ul><li>Probabilistic {mlr3} classifiers did not work out-of-the box. This has been fixed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="hstats-010">hstats 0.1.0<small>2023-07-18</small><a class="anchor" aria-label="anchor" href="#hstats-010"></a></h2>
<p>This is the initial release.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michael Mayer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

